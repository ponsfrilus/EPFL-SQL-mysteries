<!DOCTYPE html>
<html lang="en">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" charset="utf-8" />

    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>The EPFL SQL Murder Mystery</title>
    <!-- Meta -->
    <meta name="keywords" content="SQL, databases, game, fun" />
    <meta
      name="description"
      content="Use SQL queries to solve the EPFL murder mystery. Suitable for beginners or experienced SQL sleuths."
    />
    <!-- /Meta -->

    <!-- Open Graph -->
    <meta property="og:type" content="website" />
    <meta property="og:title" content="EPFL SQL Murder Mystery" />
    <meta
      property="og:description"
      content="Use SQL queries to solve the EPFL murder mystery. Suitable for beginners or experienced SQL sleuths."
    />
    <meta property="og:image" content="http://mystery.knightlab.com/174092-clue-illustration.png" />
    <meta property="og:url" content="http://mystery.knightlab.com" />
    <meta property="og:site_name" content="EPFL Dojo's EPFL SQL Murder Mystery" />
    <meta property="fb:app_id" content="966242223397117" />
    <!-- /Open Graph -->

    <!-- Twitter Card -->
    <meta name="twitter:title" content="EPFL Dojo's EPFL SQL Murder Mystery" />
    <meta
      name="twitter:description"
      content="Use SQL queries to solve the EPFL murder mystery. Suitable for beginners or experienced SQL sleuths."
    />
    <meta name="twitter:image" content="http://mystery.knightlab.com/174092-clue-illustration.png" />
    <meta name="twitter:site" content="@EPFL_en" />
    <!-- /Twitter Card -->

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.52.2/codemirror.min.css" />
    <link rel="stylesheet" href="css/main.css" />
    <link rel="stylesheet" href="css/neat.css" />

    <script src="https://unpkg.com/@webcomponents/custom-elements@1.2.0/custom-elements.min.js"></script>
    <script src="scripts/codemirror.js"></script>
    <script src="scripts/codemirrorsql.js"></script>
    <script src="scripts/autorefresh.js"></script>
    <script src="scripts/main.js"></script>
    <script>
      window.onload = () => loadData('sql-murder-mystery.db');
    </script>

    <link rel="stylesheet" href="/css/elements.min.css" />
    <script src="/js/elements.min.js"></script>
  </head>

  <body>
    <nav id="nav-aside" class="nav-aside" role="navigation" aria-describedby="nav-aside-title">
      <header role="banner" class="header">
        <a class="logo" href="#">
          <img src="icons/epfl-logo.svg" alt="Logo EPFL, École polytechnique fédérale de Lausanne" class="img-fluid" />
        </a>

        <ul aria-hidden="true" class="nav-header d-none d-xl-flex">
          <li id="menu-item-1">
            <a class="nav-item" href="https://www.epfl.ch/about/fr/">À propos</a>
          </li>
          <li id="menu-item-2" class="current-menu-item">
            <a class="nav-item" href="https://www.epfl.ch/education/fr/">Éducation</a>
          </li>
          <li id="menu-item-3">
            <a class="nav-item" href="https://www.epfl.ch/research/fr/">Recherche</a>
          </li>
          <li id="menu-item-4">
            <a class="nav-item" href="https://www.epfl.ch/innovation/fr/">Innovation</a>
          </li>
          <li id="menu-item-5">
            <a class="nav-item" href="https://www.epfl.ch/schools/fr/">Facultés</a>
          </li>
          <li id="menu-item-6">
            <a class="nav-item" href="https://www.epfl.ch/campus/fr/">Campus</a>
          </li>
        </ul>
      </header>
    </nav>

    <div class="container-full">
      <div class="hero">
        <div class="hero-content-container">
          <h1 class="hero-title">Le mystère SQL de l'EPFL</h1>
          <div class="hero-content">
            Il y a eu un meurtre à l'EPFL : Vartin Metterly a été assasiné dans son bureau !
            <br />

            Le <i>mystère SQL de l'EPFL</i> est un jeu amusant qui a pour but de résoudre un crime intriguant. Il est
            conçu pour être à la fois un exercice formateur pour les débutants souhaitant apprendre le SQL tout en étant
            un jeu amusant pour les utilisateurs plus expérimentés.
          </div>
        </div>
        <div class="hero-img">
          <picture>
            <img src="174092-clue-illustration.png" class="img-fluid" alt="Cover description" />
          </picture>
        </div>
      </div>

      <div class="introduction bg-gray-100">
        <div class="container">
          <div class="row">
            <div class="col-md-10 offset-md-1">
              <h2>Un horrible crime !</h2>
              <p>
                Vartin Metterly, président de l'EPFL, a été assasiné dans son bureau. L'équipe chargée de l'enquête
                n'est pas familière avec le système d'information de l'EPFL ou avec les bases de données en général.
                Vous êtes approché par un enquêteur acceptez de mettre vos compétences informatiques au service de la
                police.
              </p>
              <blockquote>
                Le crime a eu lieu le 1 août 2023 à environ 20:30 dans son bureau. Vous apprenez qu'il s'agit d'un
                empoisonnement au cyanure.
              </blockquote>
              <p>
                Pour aider les enquêteurs, vous devez récupérer des indices dans les bases de données de l'EPFL. Vous
                devez utiliser SQL pour naviguer dans ce vaste réseau d'informations. Votre première étape pour résoudre
                le mystère consiste à trouver quel est le bureau ou le crime a eu lieu.
                <br />
                Utilisez les boîtes prévues à cet effet pour exécuter des requêtes SQL vous permettant de trouver les
                indices.
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="container">
      <div class="grid">
        <div class="grid-item">
          <h2 id="experienced">Experienced SQL sleuths start here</h2>
          <p>
            A crime has taken place and the detective needs your help. The detective gave you the crime scene report,
            but you somehow lost it. You vaguely remember that the crime was a <strong>​murder​</strong> that occurred
            sometime on ​<strong>Jan.15, 2018​</strong> and that it took place in ​<strong>SQL City​</strong>. Start by
            retrieving the corresponding crime scene report from the police department’s database.
          </p>

          <h3>Exploring the Database Structure</h3>

          <p>
            Experienced SQL users can often use database queries to infer the structure of a database. But each database
            system has different ways of managing this information. The SQL Murder Mystery is built using SQLite. Use
            this SQL command to find the tables in the Murder Mystery database.
          </p>

          <sql-exercise
            data-question="Run this query to find the names of the tables in this database."
            data-comment="This command is specific to SQLite. For other databases, you'll have to learn their specific syntax."
            data-default-text="SELECT name 
  FROM sqlite_master
 where type = 'table'"
          ></sql-exercise>
        </div>
      </div>

      <div class="grid">
        <div class="grid-item">
          <p>
            Besides knowing the table names, you need to know how each table is structured. The way this works is also
            dependent upon which database technology you use. Here's how you do it with SQLite.
          </p>

          <sql-exercise
            data-question="Run this query to find the structure of the `crime_scene_report` table"
            data-comment="Change the value of 'name' to see the structure of the other tables you learned about with the previous query."
            data-default-text="SELECT sql 
  FROM sqlite_master
 where name = 'crime_scene_report'"
          ></sql-exercise>
        </div>
      </div>

      <div class="grid">
        <div class="grid-item">
          <h3>The rest is up to you!</h3>
          <p>
            If you're really comfortable with SQL, you can probably get it from here.
          </p>
          <p>
            But <a id="show-schema">click here</a> to show the schema diagram.
            <img id="experienced-schema" src="schema.png" width="1002" height="491" />
          </p>
          <p>And you can always go to the <a href="walkthrough.html">walkthrough</a>.</p>

          <sql-exercise
            data-question="Use your knowledge of the database schema and SQL commands to find out who committed the murder."
            data-comment="When you think you know the answer, go to the next section."
            data-default-text="
              
              



              "
          ></sql-exercise>
          <!-- newlines in data-default-text force input to be larger -->
        </div>
      </div>

      <div id="check-solution" class="grid">
        <div class="grid-item">
          <h3>Check your solution</h3>
          <sql-exercise
            data-question="Did you find the killer?"
            data-comment=""
            data-default-text="INSERT INTO solution VALUES (1, 'Insert the name of the person you found here');
        
        SELECT value FROM solution;"
          ></sql-exercise>
        </div>
      </div>

      <div id="credits" class="grid">
        <div class="grid-item">
          <h3>Credits</h3>
          <p>
            The SQL Murder Mystery was created by <a href="https://twitter.com/joonparkmusic">Joon Park</a> and
            <a href="https://twitter.com/Cathy_MeiyingHe">Cathy He</a> while they were Knight Lab fellows. See the
            <a href="https://github.com/NUKnightLab/sql-mysteries">GitHub repository</a> for more information.
          </p>
          <p>Adapted and produced for the web by <a href="https://twitter.com/joegermuska">Joe Germuska</a>.</p>
          <p>
            This mystery was inspired by
            <a href="https://github.com/veltman/clmystery">a crime in the neighboring Terminal City.</a>
          </p>
          <p>Web-based SQL is made possible by <a href="https://github.com/sql-js/sql.js/">SQL.js</a></p>
          <p>
            SQL query custom web components created and released to the public domain by Zi Chong Kao, creator of
            <a href="https://selectstarsql.com/">Select Star SQL.</a>
          </p>
          <p>Detective illustration courtesy of <a href="https://www.vecteezy.com/">Vectors by Vecteezy</a></p>
          <p>
            Original code for this project is released under the
            <a href="https://github.com/NUKnightLab/sql-mysteries/blob/master/LICENSE">MIT License</a>
          </p>
          <p>
            Original text and other content for this project is released under
            <a href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons CC BY-SA 4.0</a>
          </p>
        </div>
      </div>
    </div>

    <footer class="footer-light" role="contentinfo">
      <div class="row">
        <div class="col-6 mx-auto mx-md-0 mb-4 col-md-3 col-lg-2">
          <a href="#">
            <img
              src="icons/epfl-logo.svg"
              alt="Logo EPFL, École polytechnique fédérale de Lausanne"
              class="img-fluid"
            />
          </a>
        </div>
        <div class="col-md-9 col-lg-10 mb-4">
          <div class="ml-md-2 ml-lg-5">
            <ul class="list-inline list-unstyled">
              <li class="list-inline-item">Contact</li>
              <li class="list-inline-item text-muted pl-3"><small>EPFL CH-1015 Lausanne</small></li>
              <li class="list-inline-item text-muted pl-3"><small>+41 21 693 11 11</small></li>
            </ul>
            <div class="footer-light-socials">
              <p class="footer-title footer-title-no-underline">Suivez l'EPFL sur les réseaux sociaux</p>
              <ul class="social-icon-list list-inline">
                <li>
                  <a
                    href="https://www.facebook.com/epflcampus"
                    class="social-icon social-icon-facebook social-icon-negative"
                    target="_blank"
                    rel="nofollow noopener"
                  >
                    <svg class="icon" aria-hidden="true">
                      <use xlink:href="#icon-facebook"></use>
                    </svg>
                    <span class="sr-only">Follow us on Facebook</span>
                  </a>
                </li>
                <li>
                  <a
                    href="https://twitter.com/epfl_en"
                    class="social-icon social-icon-twitter social-icon-negative"
                    target="_blank"
                    rel="nofollow noopener"
                  >
                    <svg class="icon" aria-hidden="true">
                      <use xlink:href="#icon-twitter"></use>
                    </svg>
                    <span class="sr-only">Follow us on Twitter</span>
                  </a>
                </li>
                <li>
                  <a
                    href="http://instagram.com/epflcampus"
                    class="social-icon social-icon-instagram social-icon-negative"
                    target="_blank"
                    rel="nofollow noopener"
                  >
                    <svg class="icon" aria-hidden="true">
                      <use xlink:href="#icon-instagram"></use>
                    </svg>
                    <span class="sr-only">Follow us on Instagram</span>
                  </a>
                </li>
                <li>
                  <a
                    href="https://www.youtube.com/user/epflnews"
                    class="social-icon social-icon-youtube social-icon-negative"
                    target="_blank"
                    rel="nofollow noopener"
                  >
                    <svg class="icon" aria-hidden="true">
                      <use xlink:href="#icon-youtube"></use>
                    </svg>
                    <span class="sr-only">Follow us on Youtube</span>
                  </a>
                </li>
              </ul>
            </div>
            <div class="footer-legal">
              <div class="footer-legal-links">
                <a href="https://www.epfl.ch/about/overview/fr/reglements-et-directives/mentions-legales/">
                  Accessibilité
                </a>
                <a href="https://www.epfl.ch/about/overview/fr/reglements-et-directives/mentions-legales/">
                  Mentions légales
                </a>
                <a href="https://go.epfl.ch/protection-des-donnees/">
                  Protection des données
                </a>
              </div>
              <div>
                <p>&copy; 2021 EPFL, tous droits réservés</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </footer>

    <button id="back-to-top" class="btn btn-primary btn-back-to-top">
      <span class="sr-only">Back to top</span>

      <svg class="icon" aria-hidden="true">
        <use xlink:href="#icon-chevron-top"></use>
      </svg>
    </button>

    <script src="https://cdn.knightlab.com/libs/orangeline/0.1.1/js/orangeline.js"></script>
    <script type="text/javascript">
      document.querySelector('#show-schema').addEventListener('click', function () {
        document.querySelector('#experienced-schema').classList.add('show');
      });
    </script>
  </body>
</html>
