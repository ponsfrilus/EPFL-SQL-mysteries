<!DOCTYPE html>
<html lang="en">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" charset="utf-8" />

    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>The EPFL SQL Murder Mystery</title>
    <!-- Meta -->
    <meta name="keywords" content="SQL, databases, game, fun" />
    <meta
      name="description"
      content="Use SQL queries to solve the EPFL murder mystery. Suitable for beginners or experienced SQL sleuths."
    />
    <!-- /Meta -->

    <!-- Open Graph -->
    <meta property="og:type" content="website" />
    <meta property="og:title" content="EPFL SQL Murder Mystery" />
    <meta
      property="og:description"
      content="Use SQL queries to solve the EPFL murder mystery. Suitable for beginners or experienced SQL sleuths."
    />
    <meta property="og:image" content="http://mystery.knightlab.com/174092-clue-illustration.png" />
    <meta property="og:url" content="http://mystery.knightlab.com" />
    <meta property="og:site_name" content="EPFL Dojo's EPFL SQL Murder Mystery" />
    <meta property="fb:app_id" content="966242223397117" />
    <!-- /Open Graph -->

    <!-- Twitter Card -->
    <meta name="twitter:title" content="EPFL Dojo's EPFL SQL Murder Mystery" />
    <meta
      name="twitter:description"
      content="Use SQL queries to solve the EPFL murder mystery. Suitable for beginners or experienced SQL sleuths."
    />
    <meta name="twitter:image" content="http://mystery.knightlab.com/174092-clue-illustration.png" />
    <meta name="twitter:site" content="@EPFL_en" />
    <!-- /Twitter Card -->

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.52.2/codemirror.min.css" />
    <link rel="stylesheet" href="css/main.css" />
    <link rel="stylesheet" href="css/neat.css" />

    <script src="https://unpkg.com/@webcomponents/custom-elements@1.2.0/custom-elements.min.js"></script>
    <script src="scripts/codemirror.js"></script>
    <script src="scripts/codemirrorsql.js"></script>
    <script src="scripts/autorefresh.js"></script>
    <script src="scripts/main.js"></script>
    <script>
      window.onload = () => loadData('sql-murder-mystery.db');
    </script>

    <link rel="stylesheet" href="/css/elements.min.css" />
    <script src="/js/elements.min.js"></script>
  </head>

  <body>
    <nav id="nav-aside" class="nav-aside" role="navigation" aria-describedby="nav-aside-title">
      <header role="banner" class="header">
        <a class="logo" href="#">
          <img src="icons/epfl-logo.svg" alt="Logo EPFL, École polytechnique fédérale de Lausanne" class="img-fluid" />
        </a>

        <ul aria-hidden="true" class="nav-header d-none d-xl-flex">
          <li id="menu-item-1">
            <a class="nav-item" href="https://www.epfl.ch/about/fr/">À propos</a>
          </li>
          <li id="menu-item-2" class="current-menu-item">
            <a class="nav-item" href="https://www.epfl.ch/education/fr/">Éducation</a>
          </li>
          <li id="menu-item-3">
            <a class="nav-item" href="https://www.epfl.ch/research/fr/">Recherche</a>
          </li>
          <li id="menu-item-4">
            <a class="nav-item" href="https://www.epfl.ch/innovation/fr/">Innovation</a>
          </li>
          <li id="menu-item-5">
            <a class="nav-item" href="https://www.epfl.ch/schools/fr/">Facultés</a>
          </li>
          <li id="menu-item-6">
            <a class="nav-item" href="https://www.epfl.ch/campus/fr/">Campus</a>
          </li>
        </ul>
      </header>
    </nav>

    <div class="container-full">
      <div class="hero">
        <div class="hero-content-container">
          <h1 class="hero-title">Le mystère SQL de l'EPFL</h1>
          <div class="hero-content">
            Il y a eu un meurtre à l'EPFL : Vartin Metterly a été assasiné dans son bureau !
            <br />

            Le <i>mystère SQL de l'EPFL</i> est un jeu amusant qui a pour but de résoudre un crime intriguant. Il est
            conçu pour être à la fois un exercice formateur pour les débutants souhaitant apprendre le SQL tout en étant
            un jeu amusant pour les utilisateurs plus expérimentés.
          </div>
        </div>
        <div class="hero-img">
          <picture>
            <img src="174092-clue-illustration.png" class="img-fluid" alt="Cover description" />
          </picture>
        </div>
      </div>

      <div class="introduction bg-gray-100">
        <div class="container">
          <div class="row">
            <div class="col-md-10 offset-md-1">
              <h2>Un horrible crime !</h2>
              <p>
                Vartin Metterly, président de l'EPFL, a été assasiné dans son bureau. L'équipe chargée de l'enquête
                n'est pas familière avec le système d'information de l'EPFL ou avec les bases de données en général.
                Vous êtes approché par un enquêteur acceptez de mettre vos compétences informatiques au service de la
                police.
              </p>
              <blockquote>
                Le crime a eu lieu le 1 août 2023 à environ 20:30 dans son bureau. Vous apprenez qu'il s'agit d'un
                empoisonnement au cyanure.
              </blockquote>
              <p>
                Pour aider les enquêteurs, vous devez récupérer des indices dans les bases de données de l'EPFL. Vous
                devez utiliser SQL pour naviguer dans ce vaste réseau d'informations. Votre première étape pour résoudre
                le mystère consiste à trouver quel est le bureau ou le crime a eu lieu.
                <br />
                Utilisez les boîtes prévues à cet effet pour exécuter des requêtes SQL vous permettant de trouver les
                indices.
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="container"><br /><!-- spacer --></div>
    <div class="container">
      <div class="grid">
        <div class="grid-item">
          <h2 id="experienced">Explorer la structure de la base de données</h2>
          <p>
            Les utilisateurs SQL expérimentés peuvent utiliser des requêtes pour déduire la structure d'une base de
            données. Chaque système de base de données a différentes manières de gérer ces informations. Le mystère SQL
            de l'EPFL est construit à l'aide de SQLite. Utilisez cette commande SQL pour trouver les tables présentes
            dans la base de données du système d'information de l'EPFL.
          </p>

          <sql-exercise
            data-question="Exécutez cette requête pour trouver les tables à disposition."
            data-comment="Cette commande est spécifique à SQLite. Pour d'autres moteurs de base de données, il faut se renseigner sur la syntaxe spécifique."
            data-default-text="  SELECT name 
    FROM sqlite_master
   WHERE type = 'table'
ORDER BY name ASC;"
          ></sql-exercise>
        </div>
      </div>

      <div class="grid">
        <div class="grid-item">
          <p>
            En plus de connaître le nom des tables, vous devez savoir quels sont les champs qui composent chaque table.
            La requête prermettant de trouver cette information est également dépendente de la technologie de base de
            données utilisée. Voici comment procéder avec SQLite.
          </p>

          <sql-exercise
            data-question="Exécutez cette requête pour trouver la structure de la table `<code>people</code>`."
            data-comment="Modifiez la valeur de `<code>name</code>` pour découvrir la structure des autres tables découvertes avec la requête ci-dessus."
            data-default-text="SELECT sql 
  FROM sqlite_master
 WHERE name = 'people';"
          ></sql-exercise>
        </div>
      </div>

      <div class="grid">
        <div class="grid-item">
          <h2 id="investigation">Le reste de l'enquête vous appartient</h2>
          <p>
            Si vous avez quelques notions de SQL, vous devriez probablement vous en sortir à partir d'ici.
            <br />
            Vous pouvez visualiser le schéma de la base de données en
            <a id="show-schema" href="#show-schema">cliquant ici</a>.
            <img id="experienced-schema" src="schema.png" width="1002" height="491" />
          </p>
          <p>
            Si vous avez besoin d'aide, vous pouvez toujours suivre la
            <a href="walkthrough.html">procédure pas à pas</a>.
          </p>

          <sql-exercise
            data-question="Utilisez vos connaissances en SQL avec les informations que vous avez à disposition pour résoudre le meurtre de Vartin Metterli."
            data-comment="Quand vous pensez avoir trouvé, allez à la section suivante pour valider votre réponse."
            data-default-text="-- Requête de départ :
SELECT description
  FROM security_logs
 WHERE date='2023-08-01';
-- Bonne enquête !"
          ></sql-exercise>
        </div>
      </div>

      <div class="introduction bg-gray-100">
        <div id="check-solution" class="grid">
          <div class="grid-item">
            <h2>Vérifiez votre solution</h2>
            <sql-exercise
              data-question="Avez-vous trouvé le meurtrier ?"
              data-comment="Exécutez les requêtes ci-dessous pour valider votre solution."
              data-default-text="INSERT INTO solution VALUES (1, 'Entrez ici [Prénom Nom] du meurtrier présumé');

SELECT value AS 'Message' FROM solution;"
            ></sql-exercise>
          </div>
        </div>
      </div>
    </div>
    <div>&nbsp;</div>
    <div class="container-full">
      <div class="introduction bg-gray-100">
        <div class="container">
          <div class="row">
            <div id="credits" class="col-md-10 offset-md-1">
              <h2>Remerciements et attributions</h2>
              <blockquote class="blockquote-no-quote mt-3">
                <p>
                  Le mystère SQL de l'EPFL a été créé lors d'un dojo de programmation par l'équipe EPFL-Dojo. Il est
                  adapté de <a href="http://mystery.knightlab.com">SQL Murder Mystery</a>. Le code se trouve sur
                  <a href="https://github.com/ponsfrilus/EPFL-SQL-mysteries">GitHub</a>. Toutes formes de contact
                  peuvent se faire via <a href="https://github.com/ponsfrilus/EPFL-SQL-mysteries/issues">cette page</a>.
                </p>
              </blockquote>
              <p>
                "SQL Murder Mystery" a été créé par <a href="https://twitter.com/joonparkmusic">Joon Park</a> et
                <a href="https://twitter.com/Cathy_MeiyingHe">Cathy He</a> lorsqu'ils travaillaient chez Knight Lab.
                Consultez le <a href="https://github.com/NUKnightLab/sql-mysteries">repository GitHub</a> pour plus
                d'informations.
              </p>
              <p>Adapté et produit pour le web par <a href="https://twitter.com/joegermuska">Joe Germuska</a>.</p>
              <p>
                La version originale de ce mystère a été inspirée par
                <a href="https://github.com/veltman/clmystery">a crime in the neighboring Terminal City</a>.
              </p>
              <p>
                Le SQL dans le navigateur est possible grâce à <a href="https://github.com/sql-js/sql.js/">SQL.js</a>.
              </p>
              <p>
                Les composants web pour les requêtes SQL ont été créés et publiés dans le domaine public par Zi Chong
                Kao, le créateur de <a href="https://selectstarsql.com/">Select Star SQL</a>.
              </p>
              <p>L'illustration de détective provient de <a href="https://www.vecteezy.com/">Vectors by Vecteezy</a></p>
              <p>
                Le code de ce projet est publié sous la
                <a href="https://github.com/NUKnightLab/sql-mysteries/blob/master/LICENSE">licence MIT</a>.
              </p>
              <p>
                Le texte et les autres contenus sont publiés sour la license
                <a href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons CC BY-SA 4.0</a>
              </p>
              <p>&nbsp;</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <footer class="footer-light" role="contentinfo">
      <div class="row">
        <div class="col-6 mx-auto mx-md-0 mb-4 col-md-3 col-lg-2">
          <a href="#">
            <img
              src="icons/epfl-logo.svg"
              alt="Logo EPFL, École polytechnique fédérale de Lausanne"
              class="img-fluid"
            />
          </a>
        </div>
        <div class="col-md-9 col-lg-10 mb-4">
          <div class="ml-md-2 ml-lg-5">
            <ul class="list-inline list-unstyled">
              <li class="list-inline-item">Contact</li>
              <li class="list-inline-item text-muted pl-3"><small>EPFL CH-1015 Lausanne</small></li>
              <li class="list-inline-item text-muted pl-3"><small>+41 21 693 11 11</small></li>
            </ul>
            <div class="footer-light-socials">
              <p class="footer-title footer-title-no-underline">Suivez l'EPFL sur les réseaux sociaux</p>
              <ul class="social-icon-list list-inline">
                <li>
                  <a
                    href="https://www.facebook.com/epflcampus"
                    class="social-icon social-icon-facebook social-icon-negative"
                    target="_blank"
                    rel="nofollow noopener"
                  >
                    <svg class="icon" aria-hidden="true">
                      <use xlink:href="#icon-facebook"></use>
                    </svg>
                    <span class="sr-only">Follow us on Facebook</span>
                  </a>
                </li>
                <li>
                  <a
                    href="https://twitter.com/epfl_en"
                    class="social-icon social-icon-twitter social-icon-negative"
                    target="_blank"
                    rel="nofollow noopener"
                  >
                    <svg class="icon" aria-hidden="true">
                      <use xlink:href="#icon-twitter"></use>
                    </svg>
                    <span class="sr-only">Follow us on Twitter</span>
                  </a>
                </li>
                <li>
                  <a
                    href="http://instagram.com/epflcampus"
                    class="social-icon social-icon-instagram social-icon-negative"
                    target="_blank"
                    rel="nofollow noopener"
                  >
                    <svg class="icon" aria-hidden="true">
                      <use xlink:href="#icon-instagram"></use>
                    </svg>
                    <span class="sr-only">Follow us on Instagram</span>
                  </a>
                </li>
                <li>
                  <a
                    href="https://www.youtube.com/user/epflnews"
                    class="social-icon social-icon-youtube social-icon-negative"
                    target="_blank"
                    rel="nofollow noopener"
                  >
                    <svg class="icon" aria-hidden="true">
                      <use xlink:href="#icon-youtube"></use>
                    </svg>
                    <span class="sr-only">Follow us on Youtube</span>
                  </a>
                </li>
              </ul>
            </div>
            <div class="footer-legal">
              <div class="footer-legal-links">
                <a href="https://www.epfl.ch/about/overview/fr/reglements-et-directives/mentions-legales/">
                  Accessibilité
                </a>
                <a href="https://www.epfl.ch/about/overview/fr/reglements-et-directives/mentions-legales/">
                  Mentions légales
                </a>
                <a href="https://go.epfl.ch/protection-des-donnees/">
                  Protection des données
                </a>
              </div>
              <div>
                <p>&#127279; 2023 EPFL-Dojo</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </footer>

    <button id="back-to-top" class="btn btn-primary btn-back-to-top">
      <span class="sr-only">Back to top</span>
      <svg class="icon" aria-hidden="true">
        <use xlink:href="#icon-chevron-top"></use>
      </svg>
    </button>

    <script src="https://cdn.knightlab.com/libs/orangeline/0.1.1/js/orangeline.js"></script>
    <script type="text/javascript">
      document.querySelector('#show-schema').addEventListener('click', function () {
        document.querySelector('#experienced-schema').classList.add('show');
      });
    </script>
  </body>
</html>
